# Telegram Timer Bot

Этот проект представляет собой Telegram-бота, который позволяет устанавливать таймеры и отслеживать их прогресс в реальном времени. Таймер отображает обратный отсчет времени, а также прогрессбар, обновляющийся каждую секунду.

## Установка

1. Клонируйте репозиторий:

    ```bash
    git clone https://github.com/your-username/your-repo.git
    cd your-repo
    ```

2. Создайте виртуальное окружение:

    ```bash
    python -m venv venv
    ```

    Для активации виртуального окружения:
    
    - **Linux/MacOS**:
    
    ```bash
    source venv/bin/activate
    ```
    
    - **Windows**:
    
    ```bash
    venv\Scripts\activate
    ```

3. Установите зависимости:

    Установите необходимые библиотеки с помощью следующей команды:

    ```bash
    pip install -r requirements.txt
    ```

4. Создайте файл `.env`:

    Создайте файл `.env` в корне проекта и добавьте в него ваш Telegram Bot API токен:

    ```env
    TG_TOKEN=your_telegram_bot_token
    ```

5. Запуск бота:

    После настройки вы можете запустить бота, выполнив следующую команду:

    ```bash
    python main.py
    ```

## Использование

1. Найдите вашего Telegram-бота и начните чат с ним.
2. Отправьте боту сообщение с указанием времени таймера в формате `5s` (секунды), `10m` (минуты) или `2h` (часы).
3. Бот ответит сообщением с обратным отсчетом времени и прогрессбаром, который будет обновляться каждую секунду.
4. После завершения таймера бот отправит сообщение "Время вышло!".

## Описание работы

1. **Обработка сообщений**: Бот использует метод `reply_on_message`, чтобы реагировать на сообщения пользователей.
2. **Обратный отсчет**: Таймер реализован с использованием функции `create_countdown` библиотеки `ptbot`, которая позволяет обновлять сообщение каждую секунду.
3. **Прогрессбар**: Для отображения прогресса используется функция `render_progressbar`, которая создает визуальный индикатор выполнения в текстовом формате.
4. **Завершение таймера**: Когда таймер достигает нуля, бот отправляет уведомление с сообщением о завершении.

## Пример

1. Пользователь отправляет боту сообщение `10s`.
2. Бот отвечает:

    ```
    Осталось 10 секунд
    Прогресс |█████░░░░░░░░░░░░░░░░░░░| 20% Завершение
    ```

3. Каждую секунду сообщение обновляется, отображая оставшееся время и текущий прогресс.
4. После завершения таймера бот отправляет сообщение: 

    ```
    Время вышло!
    ```

## Требования

- Python 3.8 или выше
- Установленные библиотеки (указаны в `requirements.txt`)

## Зависимости

В проекте используются следующие библиотеки:

- **[ptbot](https://pypi.org/project/ptbot/)**: Упрощает работу с Telegram Bot API.
- **[python-dotenv](https://pypi.org/project/python-dotenv/)**: Загружает переменные окружения из файла `.env`.
- **[pytimeparse](https://pypi.org/project/pytimeparse/)**: Разбирает строки с указанием времени в формат числа секунд.

## Файлы проекта

- `main.py`: Основной скрипт с реализацией бота.
- `requirements.txt`: Список всех зависимостей.
- `.env`: Конфигурационный файл с API токеном Telegram бота.

